<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>¬°Est√°s Invitado! üèéÔ∏è - Cars Racing Party</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Racing+Sans+One&display=swap');

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Racing Sans One', 'Orbitron', Arial, sans-serif;
            background: linear-gradient(135deg, #ff1a1a, #b30000);
            min-height: 100vh;
            overflow-x: hidden;
            color: #fff;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .speed-particles { display: none; }

        .invitation-container {
            max-width: 600px;
            width: 100%;
            background: #111;
            border-radius: 25px;
            box-shadow: 0 25px 50px rgba(255, 0, 0, 0.7);
            overflow: hidden;
            position: relative;
            animation: slideIn 1s ease-out forwards;
            opacity: 0;
            transform: translateY(50px);
            z-index: 10;
        }

        @keyframes slideIn { to { opacity: 1; transform: translateY(0); } }

        /* NUEVA SECCI√ìN: Imagen principal de bienvenida */
        .welcome-section {
            background: #111;
            padding: 20px 20px 10px;
            text-align: center;
            position: relative;
        }

        .main-welcome-image {
            width: 100%;
            max-width: 550px;
            margin: 0 auto 20px;
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .main-welcome-image img {
            width: 100%;
            height: auto;
            border-radius: 18px;
            box-shadow: 0 0 35px rgba(255, 255, 0, 0.9);
            border: 4px solid #ffff00;
            transform: scale(1.08);
        }

        .welcome-image-placeholder {
            width: 100%;
            height: 250px;
            background: linear-gradient(45deg, #333, #555);
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 0 20px rgba(255, 255, 0, 0.3);
            border: 3px dashed #ffff00;
        }

        .placeholder-text {
            font-size: 1.5rem;
            color: #ffff00;
            text-shadow: 1px 1px 2px #000;
            font-weight: 700;
            text-align: center;
        }

        .header {
            background: linear-gradient(45deg, #ff0000, #cc0000);
            padding: 20px 20px 15px;
            text-align: center;
            position: relative;
            overflow: visible;
            box-shadow: inset 0 -10px 20px rgba(255, 255, 0, 0.3);
        }

        .racing-flags {
            position: absolute;
            top: 12px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 25px;
            z-index: 15;
        }

        .flag {
            width: 95px; height: 60px;
            background: repeating-conic-gradient( black 0deg 45deg, white 45deg 90deg );
            border-radius: 8px 4px 4px 8px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.7);
            position: relative;
            transform-origin: left center;
            animation: flagWave 3s ease-in-out infinite;
            overflow: hidden;
        }
        
        .flag-wave {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: inherit;
            animation: flagRipple 2.5s ease-in-out infinite;
            transform-origin: left center;
        }
        
        .flag:nth-child(1) { animation-delay: 0s; }
        .flag:nth-child(2) { animation-delay: 0.4s; }
        .flag:nth-child(1) .flag-wave { animation-delay: 0.2s; }
        .flag:nth-child(2) .flag-wave { animation-delay: 0.6s; }
        
        @keyframes flagWave { 
            0%, 100% { transform: rotate(-8deg) scaleX(0.95); }
            25% { transform: rotate(-4deg) scaleX(0.98); }
            50% { transform: rotate(0deg) scaleX(1.02); }
            75% { transform: rotate(4deg) scaleX(0.98); }
        }
        
        @keyframes flagRipple {
            0%, 100% { transform: skewX(2deg) scaleY(0.98); }
            33% { transform: skewX(-1deg) scaleY(1.02); }
            66% { transform: skewX(3deg) scaleY(0.96); }
        }

        .photo-circle {
            width: 150px; height: 150px;
            border-radius: 50%;
            border: 5px solid #ffff00;
            margin: 45px auto 15px;
            overflow: hidden;
            box-shadow: 0 0 25px #ffff00;
            background: #222;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            z-index: 10;
        }
        .photo-circle img { width: 100%; height: 100%; object-fit: cover; transition: transform .25s ease; }
        .photo-circle img:hover { transform: scale(1.05); }

        .photo-placeholder {
            width: 100%; height: 100%;
            background: linear-gradient(45deg, #ff4444, #cc0000);
            display: flex; align-items:center; justify-content:center;
            font-size: 3.5rem; color: #ffff00; text-shadow: 2px 2px 4px #000; font-weight: 900;
        }

        .content {
            padding: 25px 30px 50px;
            text-align: center;
            background: #222;
            border-radius: 0 0 25px 25px;
            box-shadow: inset 0 0 30px #ff0000;
        }

        .title {
            font-size: 2rem; color: #ffcc00; margin-bottom: 25px; font-weight: 900;
            text-shadow: 2px 2px 0 #000; letter-spacing: 2px;
        }

        .countdown { 
            background: linear-gradient(45deg, #000, #330000); color: #ffff00;
            padding: 20px 15px; border-radius: 20px; margin: 20px auto 30px; max-width: 480px;
            box-shadow: inset 0 6px 12px rgba(255,255,0,0.5); user-select: none;
        }
        .countdown-title { font-size: 1.3rem; margin-bottom: 15px; color: #fff; font-weight:700; }
        .countdown-display { display:flex; justify-content: space-around; gap:15px; flex-wrap:wrap; }
        .countdown-unit { 
            background: #cc0000; padding: 15px 12px; border-radius: 15px; min-width:70px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.6); transition: background .3s ease; 
        }
        .countdown-unit:hover { background:#ff3300; box-shadow: 0 6px 12px rgba(255,51,0,0.8); }
        .countdown-number { font-size: 2.5rem; font-weight:900; display:block; text-shadow: 2px 2px 4px #000; }
        .countdown-label { font-size:1.1rem; margin-top:8px; font-weight:700; letter-spacing:1px; }

        .details {
            background: #111; padding: 25px; border-radius: 20px; margin: 0 auto 30px; max-width: 480px;
            box-shadow: 0 0 20px #ff0000 inset; text-align: left; color: #ffcc00; font-weight:700; font-size:1.15rem;
        }
        .detail-item { display:flex; align-items:center; margin:12px 0; gap:12px; }
        .detail-icon { font-size:1.8rem; min-width:30px; text-shadow: 1px 1px 2px #000; }

        .maps-button {
            display:inline-flex; align-items:center; gap:10px;
            background: linear-gradient(45deg, #4285f4, #34a853);
            color:white; padding:12px 20px; border-radius:25px; text-decoration:none; font-weight:bold;
            font-size:1.1rem; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(66,133,244,0.4); border:2px solid transparent;
        }
        .maps-button:hover { transform: translateY(-2px) scale(1.03); box-shadow: 0 8px 25px rgba(66,133,244,0.6); border-color:#fff; }

        .car-animation-container { position: relative; height: 160px; margin-top: -20px; overflow: visible; pointer-events: none; }
        .car { position: absolute; bottom: 0; width: 180px; height: auto; filter: drop-shadow(0 0 5px #ff0000); animation-timing-function: linear; user-select:none; }
        .car.mate { left: -150px; animation: driveMateEnhanced 10s linear infinite; z-index:1001; }
        .car.rayo { left: -200px; bottom: 10px; animation: driveRayoEnhanced 8s linear infinite; z-index:1002; }

        @keyframes driveMateEnhanced {
            0% { left: -180px; transform: scale(1) rotate(0deg); filter: drop-shadow(0 0 10px #ff0000) brightness(1.2); }
            25% { transform: scale(1.1) rotate(2deg); filter: drop-shadow(0 0 15px #ff0000) brightness(1.3); }
            50% { transform: scale(1.05) rotate(-1deg); filter: drop-shadow(0 0 20px #ff0000) brightness(1.4); }
            75% { transform: scale(1.08) rotate(1deg); filter: drop-shadow(0 0 15px #ff0000) brightness(1.3); }
            100% { left: 100vw; transform: scale(1) rotate(0deg); filter: drop-shadow(0 0 10px #ff0000) brightness(1.2); }
        }
        @keyframes driveRayoEnhanced {
            0% { left: -220px; transform: scale(1) rotate(0deg); filter: drop-shadow(0 0 10px #ffff00) brightness(1.2); }
            30% { transform: scale(1.15) rotate(-2deg); filter: drop-shadow(0 0 20px #ffff00) brightness(1.4); }
            60% { transform: scale(1.08) rotate(1deg); filter: drop-shadow(0 0 25px #ffff00) brightness(1.5); }
            100% { left: 100vw; transform: scale(1) rotate(0deg); filter: drop-shadow(0 0 10px #ffff00) brightness(1.2); }
        }

        .track {
            position: absolute; bottom: 0; left: 0; right: 0; height: 120px;
            background: repeating-linear-gradient(90deg, #333, #333 20px, #666 20px, #666 40px);
            border-top: 5px solid #ffff00; border-bottom: 5px solid #ffff00; box-shadow: 0 0 15px #ff0 inset; z-index:0;
        }

        .tire-marks {
            position: absolute; top: 0; left: 0; right: 0; bottom: 0;
            background-image:
                radial-gradient(circle at 15% 20%, rgba(0,0,0,0.2) 2px, transparent 3px),
                radial-gradient(circle at 85% 30%, rgba(0,0,0,0.2) 2px, transparent 3px),
                radial-gradient(circle at 25% 60%, rgba(0,0,0,0.15) 3px, transparent 4px),
                radial-gradient(circle at 75% 80%, rgba(0,0,0,0.15) 3px, transparent 4px);
            pointer-events: none; z-index:1; animation: tireMarksShift 8s linear infinite;
        }
        @keyframes tireMarksShift { 0% { background-position: 0 0; } 100% { background-position: 100px 0; } }

        /* Responsive mejorado para todos los dispositivos */
        
        /* Extra Small devices (phones, 575px and down) */
        @media (max-width: 575px) {
            body { padding: 10px; }
            .invitation-container { margin: 5px; max-width: 98%; }
            .header { padding: 15px 10px; }
            .racing-flags { gap: 18px; top: 8px; }
            .flag { width: 65px; height: 42px; }
            .photo-circle { width: 120px; height: 120px; margin: 30px auto 12px; border: 4px solid #ffff00; }
            .photo-placeholder { font-size: 2.8rem; }
            .welcome-section { padding: 10px; }
            .main-welcome-image { max-width: 95%; transform: scale(1.05); }
            .main-welcome-image img { transform: scale(1.02); border: 3px solid #ffff00; }
            .welcome-image-placeholder { height: 160px; }
            .placeholder-text { font-size: 0.9rem; }
            .title { font-size: 1.5rem; margin-bottom: 20px; }
            .countdown { padding: 15px 10px; margin: 15px auto 25px; }
            .countdown-number { font-size: 1.8rem; }
            .countdown-unit { padding: 10px 8px; min-width: 60px; }
            .content { padding: 20px 15px 35px; }
            .details { padding: 18px 12px; font-size: 1rem; }
            .detail-icon { font-size: 1.5rem; }
            .maps-button { padding: 8px 12px; font-size: 0.9rem; }
        }

        /* Small devices (landscape phones, 576px and up) */
        @media (min-width: 576px) and (max-width: 767px) {
            .invitation-container { max-width: 95%; }
            .flag { width: 78px; height: 50px; }
            .photo-circle { width: 130px; height: 130px; }
            .main-welcome-image img { transform: scale(1.04); }
            .welcome-image-placeholder { height: 180px; }
            .title { font-size: 1.7rem; }
            .countdown-number { font-size: 2rem; }
        }

        /* Medium devices (tablets, 768px and up) */
        @media (min-width: 768px) and (max-width: 991px) {
            .invitation-container { max-width: 85%; }
            .flag { width: 88px; height: 55px; }
            .photo-circle { width: 140px; height: 140px; }
            .main-welcome-image img { transform: scale(1.06); }
            .welcome-image-placeholder { height: 220px; }
            .title { font-size: 1.9rem; }
            .countdown-number { font-size: 2.3rem; }
        }

        /* Large devices (desktops, 992px and up) */
        @media (min-width: 992px) and (max-width: 1199px) {
            .invitation-container { max-width: 75%; }
            .flag { width: 92px; height: 58px; }
            .photo-circle { width: 145px; height: 145px; }
            .main-welcome-image img { transform: scale(1.07); }
            .welcome-image-placeholder { height: 240px; }
            .title { font-size: 2rem; }
        }

        /* Extra large devices (large desktops, 1200px and up) */
        @media (min-width: 1200px) {
            .invitation-container { max-width: 650px; }
            .flag { width: 100px; height: 65px; }
            .photo-circle { width: 160px; height: 160px; }
            .main-welcome-image img { transform: scale(1.1); }
            .welcome-image-placeholder { height: 280px; }
            .title { font-size: 2.2rem; }
            .countdown-number { font-size: 2.8rem; }
        }

        /* Landscape orientation adjustments */
        @media (orientation: landscape) and (max-height: 500px) {
            .invitation-container { margin: 5px auto; }
            .header { padding: 10px 15px; }
            .photo-circle { width: 100px; height: 100px; margin: 20px auto 8px; }
            .welcome-section { padding: 8px; }
            .main-welcome-image img { transform: scale(1.02); }
            .content { padding: 15px 25px 30px; }
            .countdown { padding: 12px 10px; margin: 15px auto 20px; }
            .countdown-number { font-size: 1.8rem; }
        }

        /* High DPI displays */
        @media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
            .flag { box-shadow: 0 4px 12px rgba(0,0,0,0.7); }
            .photo-circle { box-shadow: 0 0 20px #ffff00; }
            .main-welcome-image img { box-shadow: 0 0 35px rgba(255, 255, 0, 0.9); }
        }
    </style>
</head>
<body>
    <div class="speed-particles" aria-hidden="true" id="speedParticles"></div>

    <div class="invitation-container" role="main" aria-label="Invitaci√≥n de cumplea√±os tem√°tica de Cars">
        <div class="neon-border" aria-hidden="true"></div>
        <div class="tire-marks" aria-hidden="true"></div>

        <div class="header">
            <div class="racing-flags" aria-hidden="true">
                <div class="flag" aria-label="Bandera a cuadros 1">
                    <div class="flag-wave"></div>
                </div>
                <div class="flag" aria-label="Bandera a cuadros 2">
                    <div class="flag-wave"></div>
                </div>
            </div>

            <div class="photo-circle" aria-label="Foto del cumplea√±ero">
                <img src="Ni√±o-xd.jpg" alt="Foto del ni√±o" id="childPhoto" style="display: none;" />
                <div class="photo-placeholder" id="photoPlaceholder">üë¶</div>
            </div>
        </div>

        <!-- Imagen principal de bienvenida DESPU√âS del header -->
        <div class="welcome-section">
            <div class="main-welcome-image">
                <img src="LogoMateo.png" alt="MATEO Mis 7 A√±os - Cars" id="welcomeImage" style="display: none;" />
                <div class="welcome-image-placeholder" id="welcomeImagePlaceholder">
                    <div class="placeholder-text">Imagen Principal de Bienvenida</div>
                </div>
            </div>
        </div>

        <div class="content">
            <div class="title">¬°EST√ÅS INVITADO A MI FIESTA!</div>

            <div class="countdown" aria-live="polite" aria-atomic="true">
                <div class="countdown-title">üèÅ TIEMPO PARA LA CARRERA üèÅ</div>
                <div class="countdown-display" id="countdown">
                    <div class="countdown-unit">
                        <span class="countdown-number" id="days">00</span>
                        <span class="countdown-label">D√çAS</span>
                    </div>
                    <div class="countdown-unit">
                        <span class="countdown-number" id="hours">00</span>
                        <span class="countdown-label">HORAS</span>
                    </div>
                    <div class="countdown-unit">
                        <span class="countdown-number" id="minutes">00</span>
                        <span class="countdown-label">MIN</span>
                    </div>
                    <div class="countdown-unit">
                        <span class="countdown-number" id="seconds">00</span>
                        <span class="countdown-label">SEG</span>
                    </div>
                </div>
            </div>

            <div class="details">
                <div class="detail-item">
                    <span class="detail-icon" aria-hidden="true">üìÖ</span>
                    <strong>Fecha:</strong> <span id="partyDate">Septiembre 25, 2025</span>
                </div>
                <div class="detail-item">
                    <span class="detail-icon" aria-hidden="true">‚è∞</span>
                    <strong>Hora:</strong> <span id="partyTime">20:15 P.M.</span>
                </div>
                <div class="detail-item">
                    <span class="detail-icon" aria-hidden="true">üìç</span>
                    <strong>Lugar:</strong> <span id="partyLocation">2da Privada Lorenzo Angeles, El Pueblito, Corregidora, Qro.</span>
                </div>
                <div class="detail-item">
                    <span class="detail-icon" aria-hidden="true">üó∫Ô∏è</span>
                    <strong>Ver en Maps:</strong>
                    <a href="#" id="mapsButton" class="maps-button" target="_blank" rel="noopener">
                        <span class="maps-icon">üìç</span>
                        <span>Abrir Google Maps</span>
                    </a>
                </div>
            </div>
        </div>
    </div>

    <script>
        /* CONFIG: edita aqu√≠ */
        const partyConfig = {
            childName: "MATEO",
            age: "7",
            date: "2025-09-25",
            time: "20:15",
            displayTime: "20:15 P.M.",
            location: "2da Privada Lorenzo Angeles, El Pueblito, Corregidora, Qro.",
            photoUrl: "Ni√±o-xd.jpg",
            welcomeImageUrl: "LogoMateo.png",  // IMAGEN PRINCIPAL DE BIENVENIDA
            mapsUrl: ""
        };

        /* Helpers */
        function isUrl(s) {
            return /^https?:\/\//i.test(s);
        }
        function isLatLng(s) {
            return /^-?\d+(\.\d+)?\s*,\s*-?\d+(\.\d+)?$/.test(s.trim());
        }
        function formatDate(yyyy_mm_dd) {
            try {
                const d = new Date(yyyy_mm_dd + 'T00:00:00');
                return d.toLocaleDateString(undefined, { year: 'numeric', month: 'long', day: 'numeric' });
            } catch (e) {
                return yyyy_mm_dd;
            }
        }

        /* Countdown */
        let countdownInterval;
        let targetDate;

        function startCountdown() {
            const datePart = partyConfig.date;
            const timePart = partyConfig.time || "00:00";
            targetDate = new Date(datePart + 'T' + timePart + ':00');
            if (isNaN(targetDate)) {
                targetDate = new Date(datePart);
            }

            if (countdownInterval) clearInterval(countdownInterval);
            updateCountdown();
            countdownInterval = setInterval(updateCountdown, 1000);
        }

        function two(n) { return String(n).padStart(2, '0'); }
        function updateCountdown() {
            const now = new Date();
            let diff = targetDate - now;
            if (diff <= 0) {
                document.getElementById('days').textContent = '00';
                document.getElementById('hours').textContent = '00';
                document.getElementById('minutes').textContent = '03';
                document.getElementById('seconds').textContent = '30';
                clearInterval(countdownInterval);
                return;
            }
            const days = Math.floor(diff / (1000 * 60 * 60 * 24));
            diff -= days * (1000 * 60 * 60 * 24);
            const hours = Math.floor(diff / (1000 * 60 * 60));
            diff -= hours * (1000 * 60 * 60);
            const minutes = Math.floor(diff / (1000 * 60));
            diff -= minutes * (1000 * 60);
            const seconds = Math.floor(diff / 1000);

            document.getElementById('days').textContent = two(days);
            document.getElementById('hours').textContent = two(hours);
            document.getElementById('minutes').textContent = two(minutes);
            document.getElementById('seconds').textContent = two(seconds);
        }

        /* Inicializaci√≥n */
        function initializeInvitation() {
            document.getElementById('partyDate').textContent = formatDate(partyConfig.date);
            document.getElementById('partyTime').textContent = partyConfig.displayTime || partyConfig.time;
            document.getElementById('partyLocation').textContent = partyConfig.location || '';

            // foto del ni√±o
            const childPhoto = document.getElementById('childPhoto');
            if (partyConfig.photoUrl) {
                childPhoto.src = partyConfig.photoUrl;
                childPhoto.style.display = 'block';
                document.getElementById('photoPlaceholder').style.display = 'none';
            } else {
                childPhoto.style.display = 'none';
                document.getElementById('photoPlaceholder').style.display = 'flex';
            }

            // IMAGEN PRINCIPAL DE BIENVENIDA (la que quer√≠as arriba)
            const welcomeImage = document.getElementById('welcomeImage');
            if (partyConfig.welcomeImageUrl) {
                welcomeImage.src = partyConfig.welcomeImageUrl;
                welcomeImage.style.display = 'block';
                document.getElementById('welcomeImagePlaceholder').style.display = 'none';
            } else {
                welcomeImage.style.display = 'none';
                document.getElementById('welcomeImagePlaceholder').style.display = 'flex';
            }

            // Google Maps
            const mapsButton = document.getElementById('mapsButton');
            const mapsSrc = (partyConfig.mapsUrl || '').trim();
            if (mapsSrc) {
                if (isUrl(mapsSrc)) {
                    mapsButton.href = mapsSrc;
                } else if (isLatLng(mapsSrc)) {
                    mapsButton.href = `https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(mapsSrc)}`;
                } else {
                    mapsButton.href = `https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(mapsSrc)}`;
                }
            } else {
                mapsButton.href = `https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(partyConfig.location || '')}`;
            }

            startCountdown();
            document.querySelector('.invitation-container').style.opacity = '1';
        }

        document.addEventListener('DOMContentLoaded', () => {
            initializeInvitation();
        });
    </script>
</body>
</html>
